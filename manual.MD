## **FLUJO GENERAL DEL PROCESO**

**1. CAJERO** ‚Üí Crea orden y autoriza despacho
**2. PATIO** ‚Üí Confirma carga real con foto
**3. VIGILANCIA** ‚Üí Autoriza salida y genera gu√≠a
**4. ADMIN** ‚Üí Mantiene cat√°logos actualizados
**5. REPORTES** ‚Üí Analiza operaciones y exporta datos

---

## **MANUAL POR ROL**

### **üè™ CAJERO - Comanda y Pago**

**Objetivo**: Crear √≥rdenes pagadas y autorizar despachos

**Flujo diario**:

1. **Seleccionar cliente y destino** desde los dropdowns
2. **Construir orden**:

3. Buscar producto en ProductPicker
4. Seleccionar formato (m¬≥, ton, bolsa, etc.)
5. Ingresar cantidad con QuantityInput
6. Agregar a la tabla (se calcula precio autom√°ticamente)

7. **Revisar totales** (subtotal + impuestos)
8. **Procesar pago**:

9. Seleccionar m√©todo (Efectivo/Tarjeta/Transferencia)
10. Ingresar referencia si aplica

11. **Asociar cami√≥n**:

12. Ingresar placa con formato autom√°tico (AAA-123A)
13. Tomar foto opcional del cami√≥n

14. **Autorizar despacho** ‚Üí Crea el primer viaje con estado PENDIENTE

**Casos especiales**:

- √ìrdenes con m√∫ltiples productos
- Descuentos o precios especiales
- Clientes nuevos (coordinar con Admin)

---

### **üöõ PATIO - Confirmaci√≥n de Carga**

**Objetivo**: Confirmar cantidad real cargada y documentar con foto

**Flujo diario**:

1. **Ver lista de viajes pendientes** en tarjetas grandes
2. **Seleccionar viaje** tocando la tarjeta
3. **En modal de confirmaci√≥n**:

4. Verificar datos del viaje (cliente, destino, material)
5. Ingresar **cantidad real cargada**
6. Sistema muestra tolerancia (¬±5%) y si est√° dentro del rango
7. **Tomar foto obligatoria** del cami√≥n cargado
8. Agregar observaciones si hay diferencias

9. **Confirmar carga** ‚Üí Cambia estado a CARGADO

**Alertas importantes**:

- ‚ö†Ô∏è Cantidad fuera de tolerancia (requiere observaciones)
- ‚ö†Ô∏è Foto obligatoria (no puede confirmar sin ella)
- ‚úÖ Carga dentro de tolerancia (proceso normal)

---

### **üõ°Ô∏è VIGILANCIA - Control de Salida**

**Objetivo**: Autorizar salidas y generar documentaci√≥n oficial

**Flujo diario**:

1. **B√∫squeda r√°pida**:

1. Por placa del cami√≥n
1. Por ID de viaje
1. Por name del cliente

1. **Verificar informaci√≥n**:

1. Ver foto tomada en el patio
1. Confirmar datos: material, cantidad, cliente, destino
1. Verificar que el viaje est√© CARGADO

1. **Autorizar salida**:

1. **Tomar foto obligatoria** de salida (placa visible)
1. Sistema genera autom√°ticamente la Gu√≠a de Despacho
1. Cambia estado a COMPLETADO

**Validaciones de seguridad**:

- ‚ùå No permite salida si viaje no est√° CARGADO
- ‚ùå Alerta si orden no est√° PAGADA
- ‚ùå Requiere foto de salida obligatoria

---

### **‚öôÔ∏è ADMIN - Gesti√≥n de Cat√°logos**

**Objetivo**: Mantener actualizados todos los cat√°logos del sistema

**Pesta√±as disponibles**:

1. **Productos**: Crear/editar materiales (arena, grava, etc.)
2. **Formatos**: Definir unidades y factores de conversi√≥n
3. **Clientes**: Gestionar base de clientes
4. **Destinos**: Mantener direcciones de entrega
5. **Camiones**: Registrar veh√≠culos y placas
6. **Choferes**: Base de datos de conductores
7. **Usuarios**: Gesti√≥n de accesos por rol

**Funciones por pesta√±a**:

- **Buscar** en tiempo real
- **Crear nuevo** con formulario validado
- **Editar** registros existentes
- **Activar/Desactivar** sin eliminar datos

---

### **üìä REPORTES - An√°lisis y Exportaci√≥n**

**Objetivo**: Generar reportes personalizados y m√©tricas de negocio

**Filtros disponibles**:

- **Rango de fechas** (desde/hasta)
- **Cliente espec√≠fico**
- **Producto/material**
- **Estado** (Pendiente, Cargado, Completado)

**M√©tricas autom√°ticas**:

- üí∞ Total vendido ($)
- üì¶ Cantidad despachada (m¬≥/ton)
- üöõ Viajes completados

**Exportaci√≥n**:

- **CSV**: Para an√°lisis en Excel
- **PDF**: Para reportes oficiales con m√©tricas

---

## **EJEMPLO DE CASO DE USO COMPLETO**

### **Escenario**: Cliente "Constructora ABC" pide 10m¬≥ de arena

1. **CAJERO** (9:00 AM):

1. Selecciona cliente "Constructora ABC"
1. Destino "Obra Residencial Norte"
1. Agrega: Arena fina, 10m¬≥, $500/m¬≥
1. Total: $5,000 + impuestos
1. Pago: Transferencia #TXN123456
1. Cami√≥n: Placa ABC-123A + foto
1. **Autoriza despacho** ‚Üí Viaje #001 PENDIENTE

1. **PATIO** (10:30 AM):

1. Ve viaje #001 en lista pendiente
1. Confirma carga: 9.8m¬≥ (dentro de tolerancia ¬±5%)
1. Toma foto del cami√≥n cargado
1. **Confirma carga** ‚Üí Viaje #001 CARGADO

1. **VIGILANCIA** (11:15 AM):

1. Busca por placa "ABC-123A"
1. Ve foto del patio y datos del viaje
1. Toma foto de salida con placa visible
1. **Autoriza salida** ‚Üí Viaje #001 COMPLETADO
1. Sistema genera Gu√≠a de Despacho autom√°ticamente

1. **REPORTES** (Fin del d√≠a):

1. Filtra por fecha de hoy
1. Ve: 1 viaje completado, $5,000 vendidos, 9.8m¬≥ despachados
1. Exporta reporte diario en PDF

El sistema garantiza trazabilidad completa con fotos en cada etapa y documentaci√≥n autom√°tica, eliminando errores manuales y proporcionando control total del proceso de despacho.
